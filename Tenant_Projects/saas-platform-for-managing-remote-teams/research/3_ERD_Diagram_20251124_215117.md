# Research Report: 3. **ERD Diagram**
**Date**: 2025-11-24T21:51:17.010399
**Task**: task_0810_researcher - Research: NBA Domain Data Model & Entities
**Depth**: deep
**Confidence Score**: 45/100
**Cached**: No

---

## Summary

### Key Findings

- "https://www.lucidchart.com/pages/ERD-entity-relationship-diagram",
- "https://www.ibm.com/docs/en/db2/11.5?topic=design-entity-relationship-diagrams",
- "https://www.oracle.com/technical-resources/articles/database/er-modeling-fundamentals.html",
- "https://www.vertabelo.com/blog/database-normalization-1nf-2nf-3nf-bcnf/"
- "description": "SQL DDL (Data Definition Language) for core NBA entities derived from an ERD.",
- "code": "CREATE TABLE Teams (\n    team_id VARCHAR(3) PRIMARY KEY, -- e.g., 'LAL', 'GSW'\n    team_name VARCHAR(50) NOT NULL,\n    city VARCHAR(50) NOT NULL,\n    conference VARCHAR(20),\n    division VARCHAR(20),\n    founded_year INT\n);\n\nCREATE TABLE Players (\n    player_id INT PRIMARY KEY, -- Unique ID for player\n    first_name VARCHAR(50) NOT NULL,\n    last_name VARCHAR(50) NOT NULL,\n    team_id VARCHAR(3), -- Current team\n    position VARCHAR(10), -- e.g., 'PG', 'SG', 'SF', 'PF', 'C'\n    jersey_number INT,\n    height_inches INT,\n    weight_pounds INT,\n    date_of_birth DATE,\n    country VARCHAR(50),\n    FOREIGN KEY (team_id) REFERENCES Teams(team_id)\n);\n\nCREATE TABLE Arenas (\n    arena_id INT PRIMARY KEY AUTO_INCREMENT,\n    arena_name VARCHAR(100) NOT NULL,\n    city VARCHAR(50) NOT NULL,\n    state VARCHAR(50),\n    capacity INT\n);\n\nCREATE TABLE Seasons (\n    season_id VARCHAR(9) PRIMARY KEY, -- e.g., '2023-24'\n    start_date DATE NOT NULL,\n    end_date DATE NOT NULL\n);\n\nCREATE TABLE Games (\n    game_id VARCHAR(10) PRIMARY KEY, -- Unique ID for each game\n    season_id VARCHAR(9) NOT NULL,\n    game_date DATE NOT NULL,\n    home_team_id VARCHAR(3) NOT NULL,\n    visitor_team_id VARCHAR(3) NOT NULL,\n    arena_id INT,\n    home_team_score INT,\n    visitor_team_score INT,\n    status VARCHAR(20), -- e.g., 'Final', 'Scheduled'\n    FOREIGN KEY (season_id) REFERENCES Seasons(season_id),\n    FOREIGN KEY (home_team_id) REFERENCES Teams(team_id),\n    FOREIGN KEY (visitor_team_id) REFERENCES Teams(team_id),\n    FOREIGN KEY (arena_id) REFERENCES Arenas(arena_id)\n);\n\nCREATE TABLE PlayerGameStats (\n    player_game_stat_id INT PRIMARY KEY AUTO_INCREMENT,\n    player_id INT NOT NULL,\n    game_id VARCHAR(10) NOT NULL,\n    team_id VARCHAR(3) NOT NULL, -- Team player played for in this specific game\n    minutes_played DECIMAL(4,1),\n    field_goals_made INT,\n    field_goals_attempted INT,\n    three_pointers_made INT,\n    three_pointers_attempted INT,\n    free_throws_made INT,\n    free_throws_attempted INT,\n    rebounds_offensive INT,\n    rebounds_defensive INT,\n    assists INT,\n    steals INT,\n    blocks INT,\n    turnovers INT,\n    personal_fouls INT,\n    points INT,\n    FOREIGN KEY (player_id) REFERENCES Players(player_id),\n    FOREIGN KEY (game_id) REFERENCES Games(game_id),\n    FOREIGN KEY (team_id) REFERENCES Teams(team_id) -- Ensures consistency with game data\n);\n\n-- Junction table for many-to-many relationship between Players and Teams (for historical roster)\nCREATE TABLE PlayerTeamHistory (\n    player_id INT NOT NULL,\n    team_id VARCHAR(3) NOT NULL,\n    start_date DATE NOT NULL,\n    end_date DATE,\n    PRIMARY KEY (player_id, team_id, start_date),\n    FOREIGN KEY (player_id) REFERENCES Players(player_id),\n    FOREIGN KEY (team_id) REFERENCES Teams(team_id)\n);"
- "description": "SQLAlchemy ORM models representing a subset of the ERD.",
- "code": "from sqlalchemy import create_engine, Column, Integer, String, Date, ForeignKey, DECIMAL\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker, relationship\n\nBase = declarative_base()\n\nclass Team(Base):\n    __tablename__ = 'teams'\n    team_id = Column(String(3), primary_key=True)\n    team_name = Column(String(50), nullable=False)\n    city = Column(String(50), nullable=False)\n    conference = Column(String(20))\n    division = Column(String(20))\n    founded_year = Column(Integer)\n\n    players = relationship('Player', back_populates='current_team')\n    home_games = relationship('Game', foreign_keys='[Game.home_team_id]', back_populates='home_team')\n    visitor_games = relationship('Game', foreign_keys='[Game.visitor_team_id]', back_populates='visitor_team')\n\n    def __repr__(self):\n        return f\"<Team(id='{self.team_id}', name='{self.team_name}')>\"\n\nclass Player(Base):\n    __tablename__ = 'players'\n    player_id = Column(Integer, primary_key=True)\n    first_name = Column(String(50), nullable=False)\n    last_name = Column(String(50), nullable=False)\n    team_id = Column(String(3), ForeignKey('teams.team_id')) # Current team\n    position = Column(String(10))\n    jersey_number = Column(Integer)\n    height_inches = Column(Integer)\n    weight_pounds = Column(Integer)\n    date_of_birth = Column(Date)\n    country = Column(String(50))\n\n    current_team = relationship('Team', back_populates='players')\n    game_stats = relationship('PlayerGameStats', back_populates='player')\n\n    def __repr__(self):\n        return f\"<Player(id={self.player_id}, name='{self.first_name} {self.last_name}')>\"\n\nclass Arena(Base):\n    __tablename__ = 'arenas'\n    arena_id = Column(Integer, primary_key=True, autoincrement=True)\n    arena_name = Column(String(100), nullable=False)\n    city = Column(String(50), nullable=False)\n    state = Column(String(50))\n    capacity = Column(Integer)\n\n    games = relationship('Game', back_populates='arena')\n\n    def __repr__(self):\n        return f\"<Arena(id={self.arena_id}, name='{self.arena_name}')>\"\n\nclass Season(Base):\n    __tablename__ = 'seasons'\n    season_id = Column(String(9), primary_key=True)\n    start_date = Column(Date, nullable=False)\n    end_date = Column(Date, nullable=False)\n\n    games = relationship('Game', back_populates='season')\n\n    def __repr__(self):\n        return f\"<Season(id='{self.season_id}')>\"\n\nclass Game(Base):\n    __tablename__ = 'games'\n    game_id = Column(String(10), primary_key=True)\n    season_id = Column(String(9), ForeignKey('seasons.season_id'), nullable=False)\n    game_date = Column(Date, nullable=False)\n    home_team_id = Column(String(3), ForeignKey('teams.team

### Official Documentation

- https://www.vertabelo.com/blog/database-normalization-1nf-2nf-3nf-bcnf/"
- https://dbdiagram.io/docs",
- https://www.lucidchart.com/pages/ERD-entity-relationship-diagram",
- https://www.ibm.com/docs/en/db2/11.5?topic=design-entity-relationship-diagrams",
- https://www.oracle.com/technical-resources/articles/database/er-modeling-fundamentals.html",

### Search Results

---

*Research conducted by ResearcherAgent (researcher_main)*
*Sources consulted: llm_research_text, llm_research*