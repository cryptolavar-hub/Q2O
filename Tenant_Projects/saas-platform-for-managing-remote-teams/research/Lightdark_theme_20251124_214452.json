{
  "query": "* Light/dark theme.",
  "timestamp": "2025-11-24T21:44:52.103136",
  "depth": "quick",
  "search_results": [],
  "key_findings": [
    "\"**CSS Variables are King for Theming:** Leverage CSS Custom Properties (variables) for defining theme-specific values (colors, fonts, spacing). This provides native browser performance, easy maintainability, and seamless integration with JavaScript for dynamic changes.\",",
    "\"**Prioritize `prefers-color-scheme`:** Respect the user's operating system preference using the `prefers-color-scheme` media query. This should be the default behavior, with a manual toggle provided for override.\",",
    "\"**Persistence is Crucial:** Store the user's chosen theme (light/dark) in `localStorage` or cookies to ensure their preference persists across sessions and page reloads. This prevents a jarring flash of the default theme.\",",
    "\"**Prevent FOUC in Next.js (SSR):** On server-rendered pages, a 'Flash of Unstyled Content' (FOUC) can occur if the theme is applied client-side after initial render. Implement a small inline script in `_document.js` to read `localStorage` and apply the correct theme class before React hydrates.\",",
    "\"**Centralized Theme Management:** Use React Context API or a CSS-in-JS library's theming provider to centralize theme state and values, making them easily accessible throughout your component tree.\",",
    "\"**Accessibility is Non-Negotiable:** Ensure sufficient color contrast ratios (WCAG 2.1 AA or AAA) for both light and dark themes. Test text, interactive elements, and non-text content.\",",
    "\"**Semantic Naming:** Use semantic names for your CSS variables (e.g., `--color-text-primary`, `--color-background-default`) rather than literal color names (e.g., `--color-blue-500`). This makes themes more flexible and easier to manage.\",",
    "\"**CSS-in-JS Integration:** Most CSS-in-JS libraries (Styled Components, Emotion) offer robust theming solutions that integrate well with React Context, allowing you to define theme objects and access them within styled components.\"",
    "\"https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties\",",
    "\"https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme\","
  ],
  "documentation_urls": [
    "https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme\",",
    "https://react.dev/learn/passing-props-with-a-context\",",
    "https://styled-components.com/docs/advanced#theming\"",
    "https://www.w3.org/WAI/WCAG21/Understanding/contrast-minimum.html\",",
    "https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties\",",
    "https://nextjs.org/docs/pages/building-your-application/routing/pages-and-layouts#_documentjs\",",
    "https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\","
  ],
  "code_examples": [],
  "best_practices": [],
  "confidence_score": 45,
  "sources_consulted": [
    "llm_research_text",
    "llm_research"
  ],
  "cached": false
}