# Multi-Agent Development System - Production Dependencies
# Pinned versions for reproducibility
#
# ⚠️ Python Version Requirements:
#    - Supported: Python 3.10, 3.11, 3.12, 3.13 ⭐ NEW!
#    - Recommended: Python 3.12.10 (most stable)
#    - Python 3.13 now works! (pydantic-core 2.41.5+ has wheels)
#    - NOT Compatible: Python 3.14+ (wait for ecosystem support)
#
# Download Python 3.12.10: https://www.python.org/downloads/release/python-31210/

# Core FastAPI and ASGI server
fastapi==0.110.0
uvicorn[standard]==0.29.0
pydantic==2.7.1
pydantic-settings>=2.1.0

# Database
sqlalchemy==2.0.29
alembic==1.13.1

# HTTP Client (httpx used for both client and async testing)
httpx==0.26.0
requests==2.31.0

# VCS Integration (Git operations)
# Note: Git CLI must be installed separately

# Temporal workflow
temporalio==1.8.0

# Template rendering
jinja2==3.1.3

# PDF processing
PyPDF2==3.0.1

# Environment management
python-dotenv==1.0.1

# Stripe integration
stripe==9.1.0

# ============================================================================
# LICENSING ADDON DEPENDENCIES (Optional Module)
# ============================================================================
# Only install these if you're using the Q2O Licensing Addon
#
# Quick Installation:
#   pip install pyjwt cryptography psycopg2-binary python-multipart
#
# Optional (for admin SSO):
#   pip install Authlib
# ============================================================================

# JWT Authentication (for licensing addon)
pyjwt>=2.8.0,<3.0.0
cryptography>=41.0.0,<42.0.0

# PostgreSQL Database Driver (for licensing addon multi-tenancy)
# Use psycopg2-binary for simplicity (requires changing addon connection string)
psycopg2-binary>=2.9.9,<3.0.0
# OR use psycopg v3 with binary extras:
# psycopg[binary]>=3.1.0,<4.0.0

# Form Data Handling (for licensing addon admin UI)
python-multipart>=0.0.6,<0.1.0

# OIDC/SSO (optional - uncomment if using admin SSO)
# Authlib>=1.3.0,<2.0.0

# Testing
pytest==8.1.1
pytest-asyncio==0.23.3
pytest-cov==4.1.0

# Code quality
ruff==0.3.5
black==24.3.0
mypy==1.9.0
isort==5.13.2

# Security scanning
bandit==1.7.8
# semgrep==1.69.0  # Install separately (binary-based tool)
safety>=3.2.0  # Updated to support pydantic 2.x

# Infrastructure tools (optional - for validation, install separately)
# terraform>=1.6.0  # Install separately if needed
# helm>=3.13.0  # Install separately if needed

# Development
ipython==8.21.0
ipdb==0.13.13

# Dashboard (WebSocket support)
websockets==12.0

# Web Research & Scraping (ResearcherAgent)
duckduckgo-search==4.1.1  # Free web search
beautifulsoup4==4.12.3  # HTML parsing
requests==2.31.0  # Already included above, but needed for research
lxml==5.1.0  # XML/HTML parser (faster than html.parser)