# ============================================================================
# Quick2Odoo Multi-Platform Migration SaaS - Environment Configuration
# ============================================================================
# Version: 3.0
# Last Updated: November 5, 2025
#
# INSTRUCTIONS:
# 1. Copy this file to .env
# 2. Fill in actual values (replace placeholders)
# 3. NEVER commit .env file to version control
# 4. Only configure platforms you plan to support
# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# ============================================================================
DATABASE_URL=postgresql://username:password@localhost:5432/quick2odoo
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# ============================================================================
# APPLICATION SETTINGS (REQUIRED)
# ============================================================================
API_BASE_URL=http://localhost:8000
FRONTEND_URL=http://localhost:3000
MOBILE_API_URL=http://localhost:8000
DASHBOARD_API_URL=http://localhost:8001

# Environment: development, staging, production
ENVIRONMENT=development

# Logging
LOG_LEVEL=INFO
LOG_FILE=logs/quick2odoo.log

# ============================================================================
# STRIPE PAYMENT CONFIGURATION (REQUIRED for Billing)
# ============================================================================
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe redirect URLs
BILLING_SUCCESS_URL=https://app.quick2odoo.com/billing/success
BILLING_CANCEL_URL=https://app.quick2odoo.com/billing/cancel

# ============================================================================
# PRICING CONFIGURATION (REQUIRED for Billing)
# ============================================================================
PRICING_CONFIG_PATH=./config/pricing_config.json
TAX_RATE=0.0  # Default tax rate (e.g., 0.08 for 8%)

# ============================================================================
# QUICKBOOKS ONLINE CONFIGURATION
# ============================================================================
# OAuth 2.0 Credentials (get from: https://developer.intuit.com)
QBO_CLIENT_ID=your_quickbooks_client_id
QBO_CLIENT_SECRET=your_quickbooks_client_secret
QBO_REDIRECT_URI=https://yoursaas.com/auth/qbo/callback
QBO_ENVIRONMENT=sandbox  # sandbox or production
QBO_SCOPE=com.intuit.quickbooks.accounting

# API URLs
QBO_API_BASE_URL=https://sandbox-quickbooks.api.intuit.com/v3
QBO_AUTH_URL=https://appcenter.intuit.com/connect/oauth2
QBO_TOKEN_URL=https://oauth.platform.intuit.com/oauth2/v1/tokens/bearer

# ============================================================================
# QUICKBOOKS DESKTOP (WebConnector) CONFIGURATION
# ============================================================================
# WebConnector Settings (get from: https://developer.intuit.com/app/developer/qbdesktop)
QBD_APP_ID=your_qbd_app_id
QBD_APP_NAME=Quick2Odoo Migration
QBD_OWNER_ID=your_company_guid
QBD_FILE_ID=your_qb_company_file_id

# WebConnector Server
QBD_WEBCONNECTOR_URL=https://yoursaas.com/qbwc
QBD_WEBCONNECTOR_USERNAME=qbuser
QBD_WEBCONNECTOR_PASSWORD=securepassword

# ============================================================================
# SAGE CONFIGURATION (50/100/200/X3)
# ============================================================================
# SAGE OAuth/API Credentials (get from: https://developer.sage.com)
SAGE_CLIENT_ID=your_sage_client_id
SAGE_CLIENT_SECRET=your_sage_client_secret
SAGE_REDIRECT_URI=https://yoursaas.com/auth/sage/callback
SAGE_API_BASE_URL=https://api.columbus.sage.com

# SAGE Version: sage50, sage100, sage200, sagex3
SAGE_VERSION=sage50

# SAGE API Keys (for versions that use API keys instead of OAuth)
SAGE_API_KEY=your_sage_api_key
SAGE_API_SECRET=your_sage_api_secret

# SAGE Subscription Key (for Azure API Management)
SAGE_SUBSCRIPTION_KEY=your_azure_subscription_key

# ============================================================================
# WAVE ACCOUNTING CONFIGURATION
# ============================================================================
# Wave OAuth Credentials (get from: https://developer.waveapps.com)
WAVE_CLIENT_ID=your_wave_client_id
WAVE_CLIENT_SECRET=your_wave_client_secret
WAVE_REDIRECT_URI=https://yoursaas.com/auth/wave/callback

# Wave API
WAVE_API_URL=https://gql.waveapps.com/graphql
WAVE_ACCESS_TOKEN=your_wave_access_token  # Or use OAuth flow

# Wave Business ID (for API calls)
WAVE_BUSINESS_ID=your_business_id

# ============================================================================
# EXPENSIFY CONFIGURATION
# ============================================================================
# Expensify API Credentials (get from: https://www.expensify.com/tools/integrations/)
EXPENSIFY_PARTNER_USER_ID=your_partner_user_id
EXPENSIFY_PARTNER_USER_SECRET=your_partner_user_secret
EXPENSIFY_API_URL=https://integrations.expensify.com/Integration-Server/ExpensifyIntegrations

# ============================================================================
# DOOLA CONFIGURATION
# ============================================================================
# doola API Credentials (get from: https://www.doola.com/developers)
DOOLA_API_KEY=your_doola_api_key
DOOLA_API_SECRET=your_doola_api_secret
DOOLA_API_BASE_URL=https://api.doola.com/v1
DOOLA_ENVIRONMENT=sandbox  # sandbox or production

# ============================================================================
# DEXT (formerly Receipt Bank) CONFIGURATION
# ============================================================================
# Dext API Credentials (get from: https://api-developer.dext.com)
DEXT_CLIENT_ID=your_dext_client_id
DEXT_CLIENT_SECRET=your_dext_client_secret
DEXT_REDIRECT_URI=https://yoursaas.com/auth/dext/callback
DEXT_API_BASE_URL=https://api.dext.com/v1

# ============================================================================
# XERO CONFIGURATION (COMING SOON)
# ============================================================================
# Xero OAuth 2.0 Credentials (get from: https://developer.xero.com)
XERO_CLIENT_ID=your_xero_client_id
XERO_CLIENT_SECRET=your_xero_client_secret
XERO_REDIRECT_URI=https://yoursaas.com/auth/xero/callback
XERO_SCOPE=accounting.transactions accounting.contacts accounting.settings

# Xero API
XERO_API_BASE_URL=https://api.xero.com/api.xro/2.0
XERO_AUTH_URL=https://login.xero.com/identity/connect/authorize
XERO_TOKEN_URL=https://identity.xero.com/connect/token

# ============================================================================
# FRESHBOOKS CONFIGURATION (COMING SOON)
# ============================================================================
# FreshBooks OAuth Credentials (get from: https://www.freshbooks.com/api)
FRESHBOOKS_CLIENT_ID=your_freshbooks_client_id
FRESHBOOKS_CLIENT_SECRET=your_freshbooks_client_secret
FRESHBOOKS_REDIRECT_URI=https://yoursaas.com/auth/freshbooks/callback

# FreshBooks API
FRESHBOOKS_API_BASE_URL=https://api.freshbooks.com
FRESHBOOKS_AUTH_URL=https://auth.freshbooks.com/oauth/authorize
FRESHBOOKS_TOKEN_URL=https://auth.freshbooks.com/oauth/token

# ============================================================================
# ZOHO BOOKS CONFIGURATION (COMING SOON)
# ============================================================================
# Zoho OAuth Credentials (get from: https://api-console.zoho.com)
ZOHO_CLIENT_ID=your_zoho_client_id
ZOHO_CLIENT_SECRET=your_zoho_client_secret
ZOHO_REDIRECT_URI=https://yoursaas.com/auth/zoho/callback
ZOHO_SCOPE=ZohoBooks.fullaccess.all

# Zoho API
ZOHO_API_BASE_URL=https://books.zoho.com/api/v3
ZOHO_AUTH_URL=https://accounts.zoho.com/oauth/v2/auth
ZOHO_TOKEN_URL=https://accounts.zoho.com/oauth/v2/token
ZOHO_ORGANIZATION_ID=your_organization_id

# ============================================================================
# NETSUITE CONFIGURATION (COMING SOON)
# ============================================================================
# NetSuite Token-Based Authentication (get from: NetSuite account)
NETSUITE_ACCOUNT_ID=your_account_id
NETSUITE_CONSUMER_KEY=your_consumer_key
NETSUITE_CONSUMER_SECRET=your_consumer_secret
NETSUITE_TOKEN_ID=your_token_id
NETSUITE_TOKEN_SECRET=your_token_secret

# NetSuite REST API
NETSUITE_REST_API_BASE_URL=https://your_account_id.suitetalk.api.netsuite.com/services/rest
NETSUITE_API_VERSION=v1

# ============================================================================
# ODOO TARGET CONFIGURATION (REQUIRED)
# ============================================================================
# Default Odoo instance for testing/demos
# Each client migration will use their own Odoo instance
ODOO_DEFAULT_URL=https://odoo.example.com
ODOO_DEFAULT_DATABASE=production
ODOO_DEFAULT_USERNAME=admin
ODOO_DEFAULT_PASSWORD=admin_password

# Odoo API
ODOO_JSONRPC_URL=/jsonrpc
ODOO_TIMEOUT=30

# ============================================================================
# VCS INTEGRATION (OPTIONAL)
# ============================================================================
# GitHub Integration
VCS_ENABLED=false
GITHUB_TOKEN=ghp_your_github_personal_access_token
GITHUB_REPO_OWNER=your-github-username
GITHUB_REPO_NAME=your-repo-name

# Auto-commit settings
GIT_AUTO_COMMIT=false
GIT_AUTO_PUSH=false
GIT_BRANCH_PREFIX=feature/

# ============================================================================
# WEBSOCKET & REAL-TIME FEATURES
# ============================================================================
# Dashboard WebSocket
WEBSOCKET_ENABLED=true
WEBSOCKET_PORT=8001
WEBSOCKET_MAX_CONNECTIONS=100

# ============================================================================
# MESSAGE BROKER (OPTIONAL - for agent communication)
# ============================================================================
# Redis (production) or in-memory (development)
MESSAGE_BROKER_TYPE=memory  # memory or redis
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=

# ============================================================================
# SECURITY & SECRETS
# ============================================================================
# Secret key for session encryption
SECRET_KEY=your-secret-key-here-generate-with-openssl-rand-hex-32
JWT_SECRET_KEY=your-jwt-secret-key-here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# CORS Settings
CORS_ORIGINS=http://localhost:3000,https://app.quick2odoo.com
CORS_ALLOW_CREDENTIALS=true

# ============================================================================
# FILE STORAGE (OPTIONAL)
# ============================================================================
# For storing migration reports, attachments, etc.
STORAGE_TYPE=local  # local, s3, azure
STORAGE_PATH=./storage

# AWS S3 (if using S3)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_S3_BUCKET=quick2odoo-storage
AWS_REGION=us-east-1

# Azure Blob Storage (if using Azure)
AZURE_STORAGE_CONNECTION_STRING=your_azure_connection_string
AZURE_STORAGE_CONTAINER=migrations

# ============================================================================
# EMAIL NOTIFICATIONS (OPTIONAL)
# ============================================================================
# SMTP Configuration for sending migration completion emails
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM_EMAIL=noreply@quick2odoo.com
SMTP_FROM_NAME=Quick2Odoo

# ============================================================================
# MONITORING & ANALYTICS (OPTIONAL)
# ============================================================================
# Application Insights (Azure)
APPLICATIONINSIGHTS_CONNECTION_STRING=

# Google Analytics
GA_TRACKING_ID=

# Sentry Error Tracking
SENTRY_DSN=

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================================================
# RESEARCH AGENT CONFIGURATION (OPTIONAL but RECOMMENDED)
# ============================================================================
# Web search API keys (for ResearcherAgent)
#
# ⚠️ IMPORTANT: DuckDuckGo (free, no API key) has aggressive rate limiting.
#    For production use, configure Google or Bing API keys for reliability.
#
# Google Custom Search:
#   1. Get API key: https://developers.google.com/custom-search/v1/overview
#   2. Create search engine: https://programmablesearchengine.google.com/
#   Cost: Free tier = 100 queries/day, Paid = $5 per 1000 queries
GOOGLE_SEARCH_API_KEY=your_google_api_key
GOOGLE_SEARCH_CX=your_custom_search_engine_id

# Bing Search API:
#   1. Get API key: https://portal.azure.com (Bing Search v7 resource)
#   Cost: Free tier = 1000 queries/month, S1 = $3 per 1000 queries
BING_SEARCH_API_KEY=your_bing_subscription_key

# Research settings
RESEARCH_DAILY_LIMIT=100             # Max searches per day per provider
RESEARCH_CACHE_DIR=.research_cache   # Cache directory
RESEARCH_CACHE_TTL_DAYS=90           # Cache expiry in days

# Search fallback order (if not configured):
# 1. Google (if GOOGLE_SEARCH_API_KEY set)
# 2. Bing (if BING_SEARCH_API_KEY set)
# 3. DuckDuckGo (free, but has rate limits - may fail frequently)

# ============================================================================
# TERRAFORM & INFRASTRUCTURE (OPTIONAL)
# ============================================================================
# Azure Configuration
AZURE_SUBSCRIPTION_ID=your_azure_subscription_id
AZURE_TENANT_ID=your_azure_tenant_id
AZURE_CLIENT_ID=your_service_principal_client_id
AZURE_CLIENT_SECRET=your_service_principal_secret

# Terraform Backend (for state management)
TERRAFORM_BACKEND_TYPE=azurerm  # local, azurerm, s3
TERRAFORM_BACKEND_STORAGE_ACCOUNT=yourstorageaccount
TERRAFORM_BACKEND_CONTAINER=tfstate
TERRAFORM_BACKEND_KEY=quick2odoo.tfstate

# ============================================================================
# TEMPORAL WORKFLOW ENGINE (OPTIONAL)
# ============================================================================
TEMPORAL_HOST=localhost:7233
TEMPORAL_NAMESPACE=default
TEMPORAL_TASK_QUEUE=quick2odoo-migrations

# ============================================================================
# FEATURE FLAGS
# ============================================================================
FEATURE_MOBILE_APP=true
FEATURE_BILLING=true
FEATURE_MULTI_PLATFORM=true
FEATURE_RESEARCH_AGENT=true
FEATURE_VCS_INTEGRATION=false
FEATURE_ADVANCED_ANALYTICS=false

# ============================================================================
# MIGRATION SETTINGS
# ============================================================================
# Default migration settings
DEFAULT_MIGRATION_TIMEOUT_HOURS=24
MAX_CONCURRENT_MIGRATIONS=5
MIGRATION_RETRY_ATTEMPTS=3

# Data extraction settings
BATCH_SIZE=1000
MAX_RECORDS_PER_REQUEST=1000

# ============================================================================
# TESTING & DEVELOPMENT (DEV ONLY)
# ============================================================================
# Test mode disables actual API calls and uses mock data
TEST_MODE=false

# Mock data directory
MOCK_DATA_DIR=./test_data

# ============================================================================
# NOTES
# ============================================================================
#
# Platform-Specific Setup Instructions:
#
# QUICKBOOKS:
#   1. Create app at: https://developer.intuit.com/app/developer/appdetails
#   2. Get Client ID and Secret
#   3. Set redirect URI in Intuit dashboard
#   4. Enable "Accounting" scope
#
# SAGE:
#   1. Register at: https://developer.sage.com
#   2. Create application
#   3. Get API credentials
#   4. Note: Different SAGE versions may have different APIs
#
# WAVE:
#   1. Apply for API access: https://developer.waveapps.com
#   2. Get approved (may take a few days)
#   3. Create OAuth app
#   4. Wave uses GraphQL API
#
# EXPENSIFY:
#   1. Contact Expensify for partner credentials
#   2. Get Partner User ID and Secret
#   3. Use Integration Server API
#
# STRIPE:
#   1. Sign up at: https://stripe.com
#   2. Get test keys from dashboard
#   3. Set up webhook endpoint: https://yoursaas.com/api/billing/webhook
#   4. Create products/prices in Stripe dashboard (or use API)
#
# ODOO:
#   1. Each client will have their own Odoo instance
#   2. Default settings here are for testing
#   3. Production migrations use client-provided Odoo credentials
#
# ============================================================================

