# Helm Values Configuration
# Generated by InfrastructureAgent

ingress:
  enabled: true
  className: "nginx"
  annotations:
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
  hosts:
    - host: app.quick2odoo.online
      paths:
        - path: /
          pathType: Prefix
    - host: api.quick2odoo.online
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: q2o-tls
      hosts:
        - app.quick2odoo.online
        - api.quick2odoo.online

api:
  image:
    repository: q2o/api
    tag: latest
  env:
    NEXT_PUBLIC_API_URL: "https://api.quick2odoo.online"
    NEXTAUTH_URL: "https://app.quick2odoo.online"
    DATABASE_URL: ""
    TEMPORAL_ADDRESS: ""
    TEMPORAL_NAMESPACE: "default"
    TEMPORAL_TASK_QUEUE: "q2o-sync"
    Q2O_ALLOWED_ORIGINS: "https://app.quick2odoo.online"
  
worker:
  image:
    repository: q2o/worker
    tag: latest
  env:
    DATABASE_URL: ""
    TEMPORAL_ADDRESS: ""
    TEMPORAL_NAMESPACE: "default"
    TEMPORAL_TASK_QUEUE: "q2o-sync"

secrets:
  # Use Key Vault CSI or Kubernetes secrets
  keyVault:
    enabled: true
    vaultName: ""
    objects:
      - objectName: DATABASE_URL
        objectType: secret
      - objectName: NEXTAUTH_SECRET
        objectType: secret
      - objectName: QBO_CLIENT_ID
        objectType: secret
      - objectName: QBO_CLIENT_SECRET
        objectType: secret
      - objectName: STRIPE_SECRET
        objectType: secret
      - objectName: STRIPE_WEBHOOK_SECRET
        objectType: secret

